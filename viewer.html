<!DOCTYPE html>
<html>
<head>
  <title>Viewer</title>
</head>
<body>
  <h2>ðŸ’» Laptop Viewer</h2>
  <video id="remoteVideo" autoplay controls></video>
  <script>
    const pc = new RTCPeerConnection();
    const video = document.getElementById('remoteVideo');

    pc.ontrack = event => {
      video.srcObject = event.streams[0];
    };

    fetch('https://your-signal-server.glitch.me/offer')
      .then(res => res.json())
      .then(data => {
        if (!data || !data.sdp) return;
        const desc = new RTCSessionDescription({ type: 'offer', sdp: data.sdp });
        return pc.setRemoteDescription(desc).then(() => pc.createAnswer());
      })
      .then(answer => {
        return pc.setLocalDescription(answer);
      })
      .then(() => {
        return fetch('https://your-signal-server.glitch.me/answer', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ sdp: pc.localDescription.sdp })
        });
      });
  </script>
</body>
</html>
